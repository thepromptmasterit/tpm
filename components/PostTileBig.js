import Link from 'next/link';
import Image from 'next/image';
const formatDate = (inputDate) => {
  const options = { day: '2-digit', month: '2-digit', year: 'numeric' };
  return new Date(inputDate).toLocaleDateString('it-IT', options);
};

const PostTileBig = ({ post, index, isCategory }) => {
  let slug = post.slug;
  let cover = post._embedded['wp:featuredmedia'] ? post._embedded['wp:featuredmedia'][0].source_url : '';;
  let title = post.title.rendered;
  let categories = isCategory == 'false' ? post._embedded['wp:term'][0][0] : isCategory; 
  let date = post.date;
  let incipit = post.excerpt.rendered; 
  return (

    // <div role="listitem" className="collection-item w-dyn-item">
    <div role="listitem" className="singleTileWrap">
      <Link
        href={'/blog/' + slug}
        className="singleTile"
      >
        <div className='singleTilePic'>

          {post._embedded['wp:term'][0].some(obj => obj.slug == "chatgpt") ? 
            <span className='svgOverlay'>
              <svg xmlns="http://www.w3.org/2000/svg" width="671.194" height="680.2487" viewBox="0 0 671.194 680.2487">
                <path d="M626.9464,278.4037a169.4492,169.4492,0,0,0-14.5642-139.187A171.3828,171.3828,0,0,0,427.7883,56.9841,169.45,169.45,0,0,0,299.9746.0034,171.3985,171.3985,0,0,0,136.4751,118.6719,169.5077,169.5077,0,0,0,23.1574,200.8775,171.41,171.41,0,0,0,44.2385,401.845,169.4564,169.4564,0,0,0,58.8021,541.0325a171.4,171.4,0,0,0,184.5945,82.2318A169.4474,169.4474,0,0,0,371.21,680.2454,171.4,171.4,0,0,0,534.7642,561.51a169.504,169.504,0,0,0,113.3175-82.2063,171.4116,171.4116,0,0,0-21.1353-200.9ZM371.2647,635.7758a127.1077,127.1077,0,0,1-81.6027-29.5024c1.0323-.5629,2.8435-1.556,4.0237-2.2788L429.13,525.7575a22.0226,22.0226,0,0,0,11.1306-19.27V315.5368l57.25,33.0567a2.0332,2.0332,0,0,1,1.1122,1.568V508.2972A127.64,127.64,0,0,1,371.2647,635.7758ZM97.3705,518.7985a127.0536,127.0536,0,0,1-15.2074-85.4256c1.0057.6037,2.7624,1.6768,4.0231,2.4012L221.63,514.01a22.04,22.04,0,0,0,22.2492,0L409.243,418.5281v66.1134a2.0529,2.0529,0,0,1-.818,1.7568l-136.92,79.0534a127.6145,127.6145,0,0,1-174.134-46.6532ZM61.7391,223.1114a127.0146,127.0146,0,0,1,66.3545-55.8944c0,1.1667-.067,3.2329-.067,4.6665V328.3561a22.0038,22.0038,0,0,0,11.1173,19.2578l165.3629,95.4695-57.2481,33.055a2.0549,2.0549,0,0,1-1.9319.1752l-136.933-79.1215A127.6139,127.6139,0,0,1,61.7391,223.1114ZM532.0959,332.5668,366.7308,237.0854l57.25-33.0431a2.0455,2.0455,0,0,1,1.93-.1735l136.934,79.0535a127.5047,127.5047,0,0,1-19.7,230.055V351.8247a21.9961,21.9961,0,0,0-11.0489-19.2579Zm56.9793-85.7589c-1.0051-.6174-2.7618-1.6769-4.0219-2.4L449.6072,166.1712a22.07,22.07,0,0,0-22.2475,0L261.9963,261.6543V195.5409a2.0529,2.0529,0,0,1,.818-1.7567l136.9205-78.988a127.4923,127.4923,0,0,1,189.34,132.0117ZM230.8716,364.6456,173.6082,331.589a2.0321,2.0321,0,0,1-1.1122-1.57V171.8835A127.4926,127.4926,0,0,1,381.5636,73.9884c-1.0322.5633-2.83,1.5558-4.0236,2.28L242.0957,154.5044a22.0025,22.0025,0,0,0-11.1306,19.2566Zm31.0975-67.0521L335.62,255.0559l73.6488,42.51v85.0481L335.62,425.1266l-73.6506-42.5122Z"/>
              </svg>
            </span> : ''}          
            {post._embedded['wp:term'][0].some(obj => obj.slug == "midjourney") ? 
            <span className='svgOverlay'>
              <svg xmlns="http://www.w3.org/2000/svg" shapeRendering="geometricPrecision" textRendering="geometricPrecision" imageRendering="optimizeQuality" fillRule="evenodd" clipRule="evenodd" viewBox="0 0 512 428.862">
                <g fillRule="nonzero">
                  <path d="M355.945 299.241c-16.573-64.745-45.269-126.858-86.582-177.533-17.764-21.785-36.98-39.849-57.646-54.189-5.193-3.599-2.291-12.434 4.054-12.406 1.622 0 3.386.432 5.293 1.295C314.418 98.519 381.71 178.899 420.32 272.851a349.638 349.638 0 0111.311 31.81c2.034 6.701-4.212 12.776-10.457 8.806-16.076-10.2-37.487-10.954-57.589-8.422-3.756.47-6.758-2.332-7.64-5.804zm12.193 110.668c8.82 6.616 17.015 5.976 25.394-.156 9.437-6.915 19.158-14.018 29.164-21.312 8.607-6.274 18.865-8.493 29.307-5.662 4.088 1.119 8.821 3.671 14.198 7.654a2169.868 2169.868 0 0028.296 20.671c3.064 2.191 6.35 3.31 9.859 3.358 4.486.066 7.019 2.323 7.598 6.771a4.672 4.672 0 01-.285 2.391c-1.29 3.319-3.713 4.983-7.27 4.993-6.373.029-12.183-1.783-17.427-5.434a955.133 955.133 0 01-30.047-21.838c-7.867-5.933-16.517-7.981-24.854-1.949a12234.402 12234.402 0 00-31.326 22.706c-8.859 6.439-18.476 8.265-28.852 5.476-4.39-1.185-9.238-3.77-14.539-7.753-9.74-7.312-18.955-14.027-27.643-20.144-7.511-5.302-15.094-5.269-22.747.099-8.394 5.89-17.2 12.306-26.419 19.248-5.994 4.515-11.173 7.365-15.536 8.55-10.309 2.817-19.955.996-28.936-5.463a2286.243 2286.243 0 01-28.696-20.969c-9.858-7.313-17.512-6.972-27.215.085a18230.827 18230.827 0 00-29.065 21.197c-8.469 6.185-17.973 7.887-28.509 5.108-4.382-1.157-9.219-3.732-14.512-7.726-9.152-6.904-18.954-14.022-29.406-21.353-5.932-4.169-14.853-3.159-20.472.939a3834.273 3834.273 0 01-32.735 23.602c-5.444 3.879-11.798 5.728-19.064 5.548-2.93-.066-4.993-1.888-6.188-5.463a4.026 4.026 0 01-.185-1.75c.446-4.401 2.878-6.701 7.298-6.9 4.126-.18 7.607-1.304 10.443-3.371 10.66-7.768 21.074-15.332 31.241-22.692.256-.19.308-.427.156-.711a2580.357 2580.357 0 00-13.97-24.555c-3.016-5.208-.355-10.955 5.833-11.353a812261.421 812261.421 0 00428.289-26.931 45.868 45.868 0 015.578-.028c4.353.242 6.942 5.164 5.732 9.119-.397 1.319-1.583 2.864-3.556 4.638-31.81 28.61-69.298 51.23-108.819 70.151-.693.341-.73.745-.113 1.209zm-52.411-95.631c-34.675-13.59-71.246-20.273-109.715-20.045-45.411.271-89.115 13.359-126.204 37.771-7.383 4.852-15.279-4.41-9.688-10.456 3.158-3.423 5.989-6.924 8.493-10.499 22.421-32.048 35.685-68.188 39.792-108.42 6.957-68.245-14.952-133.303-48.527-192.599-1.38-2.433-.043-7.014 2.433-8.636C74.9-.303 77.542-.451 80.235.954 132.75 28.42 179.636 62.378 220.893 102.83c57.162 56.038 99.358 124.895 109.245 204.947.589 4.733-1.261 7.607-5.547 8.621-2.761.655-6.019-1.01-8.864-2.12z"/>
                  <path fill="#fff" d="M122.061 95.346c20.301 70.066 15.18 144.727-21.354 207.936a.213.213 0 00.285.298c33.394-15.488 68.638-23.346 105.731-23.573 36.648-.228 72.347 5.842 107.098 18.21a.428.428 0 00.569-.471c-13.942-87.804-72.186-161.698-139.207-216.84-24.83-20.438-51.458-38.938-79.882-55.497-.92-.541-1.133-.333-.64.626 11.116 21.539 20.249 44.642 27.4 69.311z"/>
                  <path fill="#760987" d="M182.56 281.26a262.32 262.32 0 0124.163-1.253c9.349-.058 18.637.294 27.862 1.056l62.574-44.117a309.283 309.283 0 00-12.875-27.409L182.56 281.26z"/>
                  <path fill="#E50304" d="M131.958 144.231a282.22 282.22 0 011.9 33.335l82.893-58.628A505.511 505.511 0 00196.079 99l-64.121 45.231z"/>
                  <path fill="#FF8E00" d="M133.858 177.524a266.664 266.664 0 01-2.593 36.528l104.809-74.126a460.913 460.913 0 00-19.258-20.921l-82.958 58.519z"/><path fill="#FFEC00" d="M131.302 213.792c-1.962 13.996-5.066 27.819-9.36 41.343l131.862-93.26a417.826 417.826 0 00-17.752-21.974l-104.75 73.891z"/>
                  <path fill="#008025" d="M122.01 254.921a243.15 243.15 0 01-21.303 48.361.213.213 0 00.285.298c.731-.339 1.462-.673 2.194-1.004l166.741-117.56a377.93 377.93 0 00-16.085-23.091L122.01 254.921z"/>
                  <path fill="#004DFF" d="M102.781 302.759c25.517-11.603 52.109-18.77 79.777-21.499l101.727-71.722a345.49 345.49 0 00-14.354-24.53l-167.15 117.751z"/>
                  <path fill="#fff" d="M53.319 365.636a.17.17 0 00-.1.241l8.934 15.608a1.198 1.198 0 001.238.582c8.953-1.508 17 .214 24.142 5.165 9.456 6.545 19.457 13.795 30.004 21.752 7.924 5.976 16.233 8.081 24.655 2.12 8.242-5.833 18.02-12.941 29.335-21.325 10.214-7.569 20.373-10.272 32.636-6.601 3.518 1.052 8.369 3.897 14.553 8.535a1359.088 1359.088 0 0025.295 18.467c9.162 6.529 17.072 5.562 25.892-1.095a957.364 957.364 0 0129.99-21.782c12.662-8.835 28.04-7.042 40.261 2.148a537.008 537.008 0 0013.145 9.603c.419.304.983.363 1.47.146 35.174-16.069 67.429-35.299 96.764-57.692 1.243-.949 1.086-1.37-.469-1.266-132.354 8.337-263.751 16.602-394.189 24.797a17.896 17.896 0 00-3.556.597zM369.005 290.236c14.369-1.423 29.492-.484 43.448 3.627a.4.4 0 00.483-.513c-27.841-75.556-75.386-144.213-140.7-191.19-1.185-.844-1.299-.715-.341.385 46.407 53.321 78.032 118.536 96.228 187.079.123.456.417.659.882.612z"/></g>
              </svg>

            </span> : ''}
          <figure>
            <Image
              src={cover} 
              alt={title}
              fill
              sizes="(min-width: 808px) 50vw, 100vw"
              style={{
                objectFit: 'cover', // cover, contain, none
              }}
              priority={index >= 2 ? true : '' }
            />
          </figure>
        </div>
        <div className="post-text">
          <div className="post-info">
            <div className="category">
              {categories.name}
            </div>
            <div className="post-circle"></div>
            <div className="date">
              {formatDate(date)}
            </div>
          </div>
          <h3 className="post-heading asH4" dangerouslySetInnerHTML={{ __html: title }}></h3>
        </div>
      </Link>
    </div>
  );
};

export default PostTileBig;
